## 进程调度

1. ### 概念

   #### 进程调度的目标

   1. 响应速度尽可能快；
   2. 进程处理的时间尽可能短；
   3. 系统吞吐量尽可能大；*（系统吞吐量指的是系统在单位时间内可处理的事务的数量，是用于衡量系统性能的重要指标）*
   4. 资源利用率尽可能高；
   5. 对所有进程要公平；
   6. 避免饥饿；
   7. 避免死锁；

   #### 两个量化的衡量指标

   - 周转时间/平均周转时间

     周转时间：$t = t_c - t_s$  其中，$t_s$：进程的提交时间  $t_c$：进程的完成时间

     意义：说明进程在系统中停留时间的长短；

     平均周转时间： $t = (t_1 + t_2 +……+t_n)/n$

     意义：平均周转时间越短，意味着这些进城在系统内停留的时间越短，因而系统吞吐量也就越大，资源利用率也越高。

   - 带权周转时间/平均带权周转时间

     带权周转时间 w: $w = t/t_r$ 	t：进程的周转时间    $t_r$：进程的运行时间	 

     意义：进程在系统相对停留时间

     平均带权周转时间：$w = (w_1 + w_2 + …… + w_n)/n$

     

2. ### 典型调度算法

   #### 先来先服务调度（FCFS）

   算法：按照作业进入系统的时间先后来挑选作业。先进入系统的作业优先被运行

   特点：只考虑作业的等待时间，而没考虑运行时间的长短。不利于短作业。

   #### 短作业优先调度算法

   算法：参考运行时间，选取运行时间最短的作业投入运行

   特点：忽略了作业等待时间。

   #### 响应比高者优先调度算法

   响应比 = 响应时间 / 运行时间

   算法：计算每个作业的响应比，选择响应比最高的作业优先投入运行。

   #### 优先数调度算法

   算法：根据进程优先数，把CPU分配给最高的进程。 

   进程优先数= 静态优先数 + 动态优先数

   静态优先数：进程创建时确定，在整个进程运行期间不再改变；

   动态优先数：动态优先数在进程运行期间可以改变。

   #### 循环轮转调度法

   算法：

   - 把所有就绪进程按先进先出的原则排成队列。新来进程加到队尾；
   - 进程 以时间片q 为单位轮流使用CPU。刚刚运行一个时间片的进程排到队尾，等待下一轮运行；
   - 队列逻辑上是环形的；

   优点：

   - 公平性：每个就绪进程有平等机会获得CPU
   - 交互性：每个进程等待（N-1) * q的时间就可以重新获得CPU

   时间片q的大小

   - 太大：交互性差，甚至退化为FCFS调度算法
   - 太小：进程频繁切换，系统开销增加

   改进：

   - 时间片的大小可变
   - 组织多个就绪队列